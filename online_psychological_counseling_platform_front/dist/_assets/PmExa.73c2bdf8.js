let e=document.createElement("style");e.innerHTML=".container[data-v-a377d476]{font-family:楷体;background-color:#f5f5f5;z-index:1;font-size:16px}.dialogContainer[data-v-a377d476]{padding:20px;height:100%;text-align:center;font-family:华文楷体;font-size:30px}",document.head.appendChild(e);import{r as a,l as t,k as l,a as s,o,m as r,w as n,e as d,d as p,f as i,E as c}from"./index.5272c697.js";var m={__name:"PmExa",setup(e){document.title="私信消息";const m=a(""),u=a([]),h=async()=>{try{const e=await i.get("http://localhost:8091/pmessage/all",{params:{search:m.value}});u.value=e.data.data}catch(e){console.error(e)}};return t((()=>{h()})),l(m,(()=>{h()})),(e,a)=>{const t=s("el-table-column"),l=s("el-button"),h=s("el-button-group"),g=s("el-input"),f=s("el-table");return o(),r(f,{size:"large",data:u.value,"max-height":"600px",class:"container","empty-text":"暂无待处理的私信记录",stripe:"",style:{width:"100%",height:"auto"}},{default:n((()=>[d(t,{fixed:"",prop:"pmSender",label:"发送者",width:"150"}),d(t,{prop:"pmRecipient",label:"接收的咨询师",width:"200"}),d(t,{prop:"pmContent",label:"私信内容",width:"280"}),d(t,{prop:"pmTime",label:"发送时间",sortable:"",width:"300"}),d(t,{fixed:"right",label:"Operations",width:"280"},{default:n((e=>[d(h,null,{default:n((()=>[d(l,{link:"",style:{"font-size":"17px"},size:"large",type:"primary",onClick:a=>(async(e,a)=>{try{const e=a.pmId;200===(await i.post("http://localhost:8091/pmessage/agreePm",{pmId:e})).data.code?(c({type:"success",message:"操作成功"}),location.reload()):c({type:"error",message:"操作失败"})}catch(e){c({type:"error",message:"操作失败"})}})(e.$index,e.row)},{default:n((()=>[p(" 通过 ")])),_:2},1032,["onClick"]),d(l,{link:"",style:{"margin-left":"20px","font-size":"17px"},size:"large",type:"danger",onClick:a=>(async(e,a)=>{try{const e=a.pmId;200===(await i.post("http://localhost:8091/pmessage/refusePm",{pmId:e})).data.code?(c({type:"success",message:"操作成功"}),location.reload()):c({type:"error",message:"操作失败"})}catch(e){c({type:"error",message:"操作失败"})}})(e.$index,e.row)},{default:n((()=>[p(" 不通过 ")])),_:2},1032,["onClick"])])),_:2},1024)])),header:n((()=>[d(g,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),size:"large",placeholder:"输入私信者用户名查询"},null,8,["modelValue"])])),_:1})])),_:1},8,["data"])}},__scopeId:"data-v-a377d476"};export{m as default};
