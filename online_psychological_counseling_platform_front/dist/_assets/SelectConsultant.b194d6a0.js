let e=document.createElement("style");e.innerHTML=".container[data-v-59b55202]{font-family:楷体;background-color:#f5f5f5;z-index:1;font-size:16px}.dialogContainer[data-v-59b55202]{padding:20px;height:100%;font-family:华文楷体;font-size:30px}.top[data-v-59b55202]{margin-top:50px;margin-left:20px}.sig[data-v-59b55202]{margin-left:-30px;margin-top:50px}.username[data-v-59b55202]{margin-left:20px;margin-top:50px}.phone[data-v-59b55202]{margin-left:-5px;margin-top:50px}.add[data-v-59b55202]:hover{cursor:pointer}.add[data-v-59b55202]:active{color:#ffd04b}",document.head.appendChild(e);import{r as a,s as l,l as t,k as n,a as o,o as s,c as d,e as u,w as i,b as p,d as r,F as c,n as m,A as v,E as g,f}from"./index.5272c697.js";const h={class:"dialogContainer"},x={style:{"margin-left":"20px"}},y={style:{width:"200px","margin-left":"40px"}},b={class:"top"},w={style:{width:"200px","margin-left":"20px"}},V={class:"username"},_={style:{"margin-left":"20px"}},z={class:"phone"},k={class:"sig"},C={style:{"margin-top":"50px",display:"flex"}};var U={__name:"SelectConsultant",setup(e){document.title="咨询师管理";const U=a(!1);l().params.username;const N=a(null),T=[{value:"恋爱情感",label:"恋爱情感"},{value:"职场发展",label:"职场发展"},{value:"亲子教育",label:"亲子教育"},{value:"人际关系",label:"人际关系"},{value:"个人成长",label:"个人成长"},{value:"情绪压力",label:"情绪压力"},{value:"婚姻家庭",label:"婚姻家庭"},{value:"性健康",label:"性健康"}],A=a(""),P=()=>{v.confirm("确定要删除该咨询师吗?","警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(async(e,a)=>{try{200===(await f.delete("http://localhost:8091/consultant/del",{params:{consultantName:A.value}})).data.code?(g({type:"success",message:"操作成功"}),location.reload()):g({type:"error",message:"操作失败"})}catch(e){g({type:"error",message:"操作失败"})}})()})).catch((()=>{g({type:"info",message:"放弃操作"})}))},S=a(""),B=a([]),E=async()=>{try{const e=await f.get("http://localhost:8091/consultant/all",{params:{search:S.value}});B.value=e.data.data}catch(e){console.error(e)}},j=a(""),F=a(""),H=a(""),I=a(""),L=async()=>{if(j.value)if(F.value)if(F.value<0)g({type:"warning",message:"年龄不合规"});else if(I.value)if(H.value)try{200===(await f.post("http://localhost:8091/consultant/add",{consultantName:I.value,consultantAge:F.value,consultantSex:j.value,consultantPhone:H.value,consultantType:N.value})).data.code?(g({type:"success",message:"操作成功"}),location.reload()):g({type:"error",message:"该咨询师已存在"})}catch(e){g({type:"error",message:"该咨询师已存在"})}else g({type:"warning",message:"手机号不能为空"});else g({type:"warning",message:"姓名不能为空"});else g({type:"warning",message:"请填写年龄"});else g({type:"warning",message:"请选择性别"})};return t((()=>{E()})),n(S,(()=>{E()})),(e,a)=>{const l=o("el-table-column"),t=o("Plus"),n=o("el-icon"),v=o("el-button"),g=o("el-input"),f=o("el-table"),E=o("el-radio-button"),M=o("el-radio-group"),O=o("el-option"),$=o("el-select"),q=o("el-dialog");return s(),d(c,null,[u(f,{size:"large",data:B.value,"max-height":"600px",class:"container","empty-text":"无咨询师信息",stripe:"",style:{width:"100%",height:"auto"}},{default:i((()=>[u(l,{fixed:"",prop:"consultantName",label:"姓名",width:"130"}),u(l,{prop:"consultantSex",label:"性别",width:"130"}),u(l,{prop:"consultantAge",label:"年龄",sortable:"",width:"110"}),u(l,{prop:"consultantPhone",label:"电话",width:"150"}),u(l,{prop:"consultantType",label:"擅长类型",width:"150"}),u(l,{prop:"consultantNo",label:"累计帮助人数",sortable:"",width:"160"}),u(l,{label:"add",width:"200"},{header:i((()=>[p("div",{class:"add",onClick:a[0]||(a[0]=e=>U.value=!0)},[u(n,null,{default:i((()=>[u(t)])),_:1}),r(" 添加咨询师 ")])])),_:1}),u(l,{fixed:"right",label:"Operations",width:"250"},{default:i((e=>[u(v,{link:"",style:{"margin-left":"20px","font-size":"17px"},size:"large",type:"danger",onClick:a=>{(async(e,a)=>{A.value=a.consultantName})(e.$index,e.row),P()}},{default:i((()=>[r(" 删除该咨询师 ")])),_:2},1032,["onClick"])])),header:i((()=>[u(g,{modelValue:S.value,"onUpdate:modelValue":a[1]||(a[1]=e=>S.value=e),size:"large",placeholder:"输入咨询师姓名名查询"},null,8,["modelValue"])])),_:1})])),_:1},8,["data"]),u(q,{modelValue:U.value,"onUpdate:modelValue":a[8]||(a[8]=e=>U.value=e),title:"添加用户",width:"650"},{default:i((()=>[p("div",h,[p("div",x,[r(" 性别: "),p("span",y,[u(M,{modelValue:j.value,"onUpdate:modelValue":a[2]||(a[2]=e=>j.value=e),size:"large"},{default:i((()=>[u(E,{label:"男",value:"男"}),u(E,{label:"女",value:"女"})])),_:1},8,["modelValue"])])]),p("div",b,[r(" 年龄: "),p("span",w,[u(g,{modelValue:F.value,"onUpdate:modelValue":a[3]||(a[3]=e=>F.value=e),size:"large",style:{width:"240px","margin-left":"20px"},placeholder:"填写年龄"},null,8,["modelValue"])])]),p("div",V,[r(" 姓名:"),p("span",_,[u(g,{modelValue:I.value,"onUpdate:modelValue":a[4]||(a[4]=e=>I.value=e),size:"large",style:{width:"240px","margin-left":"30px"},placeholder:"填写用户名"},null,8,["modelValue"])])]),p("div",z,[r("手机号: "),p("span",null,[u(g,{modelValue:H.value,"onUpdate:modelValue":a[5]||(a[5]=e=>H.value=e),size:"large",style:{width:"240px","margin-left":"35px"},placeholder:"填写手机号"},null,8,["modelValue"])])]),p("div",k,[r(" 擅长类型: "),u($,{modelValue:N.value,"onUpdate:modelValue":a[6]||(a[6]=e=>N.value=e),placeholder:"选择类型",size:"default",clearable:"",style:{width:"240px","margin-left":"30px"}},{default:i((()=>[(s(),d(c,null,m(T,(e=>u(O,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])]),p("div",C,[u(v,{onClick:a[7]||(a[7]=e=>U.value=!1),type:"primary",style:{width:"190px","margin-left":"60px"}},{default:i((()=>[r("取消 ")])),_:1}),u(v,{onClick:L,type:"primary",style:{width:"190px","margin-left":"80px"}},{default:i((()=>[r("添加 ")])),_:1})])])])),_:1},8,["modelValue"])],64)}},__scopeId:"data-v-59b55202"};export{U as default};
