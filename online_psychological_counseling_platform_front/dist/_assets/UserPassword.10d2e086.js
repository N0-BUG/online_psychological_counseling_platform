let e=document.createElement("style");e.innerHTML=".container[data-v-54345a5e]{width:700px;height:100%;font-family:楷体;font-size:20px;background-color:#f5f5f5;margin-left:100px}",document.head.appendChild(e);import{r as a,s as l,l as t,a as s,o,c as n,b as r,d,e as p,w as u,f as i,g as c,p as m,h as v,E as h}from"./index.5272c697.js";const f={class:"container"},w={style:{"margin-left":"20px","margin-top":"30px"}},y={style:{"margin-left":"20px","margin-top":"40px"}},g=(e=>(m("data-v-54345a5e"),e=e(),v(),e))((()=>r("br",null,null,-1))),x={style:{"margin-left":"60px","margin-top":"30px"}};var V={__name:"UserPassword",setup(e){document.title="登录密码修改";const m=a(""),v=a(""),V=a(""),_=a(""),b=l().params.username;async function U(){if(m.value)if(v.value)if(V.value)if(m.value==_.value){if(v.value!=V.value)return alert("两次输入密码不同"),void(V.value="");try{200==(await i.post("http://localhost:8091/account/updatePs",{password:v.value,username:b})).data.code&&(h({message:"修改成功,请重新登录!",type:"success",center:!0,duration:5e3}),await c.push({name:"login"}))}catch(e){console.log("请求失败")}}else alert("密码错误，请检查旧密码");else alert("请输入确认密码");else alert("请输入新密码");else alert("请输入旧密码")}return t((()=>{!async function(){try{const e=await i.get("http://localhost:8091/account/check",{params:{username:b}});_.value=e.data.data.password}catch(e){console.log("请求失败")}}()})),(e,a)=>{const l=s("el-input"),t=s("el-button");return o(),n("div",f,[r("div",w,[d("请输入旧密码: "),p(l,{modelValue:m.value,"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),style:{width:"240px"},type:"password",placeholder:"请输入旧密码","show-password":""},null,8,["modelValue"])]),r("div",y,[d("请输入新密码: "),p(l,{modelValue:v.value,"onUpdate:modelValue":a[1]||(a[1]=e=>v.value=e),style:{width:"240px"},type:"password",placeholder:"请输入新密码","show-password":""},null,8,["modelValue"])]),g,r("div",x,[d("确认密码: "),p(l,{modelValue:V.value,"onUpdate:modelValue":a[2]||(a[2]=e=>V.value=e),style:{width:"240px"},type:"password",placeholder:"请确认密码","show-password":""},null,8,["modelValue"])]),p(t,{type:"primary",plain:"",style:{"margin-left":"150px","margin-top":"50px"},onClick:U},{default:u((()=>[d("提交修改 ")])),_:1})])}},__scopeId:"data-v-54345a5e"};export{V as default};
